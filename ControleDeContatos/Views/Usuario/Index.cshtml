@model List<UsuarioModel>

@{
    ViewData["Title"] = "Listagem de Usuários";
}

<div class="container-fluid mt-4" style="max-width: 98%;">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="text-secondary" style="font-weight: 500;">
            Listagem de Usuários
        </h2>

        <a class="btn btn-primary shadow-sm"
           asp-controller="Usuario"
           asp-action="Criar">
            Adicionar novo usuário
        </a>
    </div>

    <div class="table-responsive shadow p-3 mb-5 bg-white rounded">
        <table id="tabelaUsuarios" class="table table-hover align-middle w-100">

            <!-- 🔹 CABEÇALHO (OBRIGATÓRIO) -->
            <thead class="table-light">
                <tr>
                    <th class="text-center">#</th>
                    <th class="text-start ps-3">Nome</th>
                    <th class="text-start ps-3">Login</th>
                    <th class="text-start ps-3">E-mail</th>
                    <th class="text-center">Perfil</th>
                    <th class="text-center">Data de cadastro</th>
                    <th class="text-center">Ações</th>
                </tr>
            </thead>

            <!-- 🔹 CORPO -->
            <tbody>
                @foreach (var usuario in Model)
                {
                    <tr class="align-middle">
                        <td class="text-center text-muted">
                            @usuario.Id
                        </td>

                        <td class="text-start ps-3 fw-normal">
                            @usuario.Nome
                        </td>

                        <td class="text-start ps-3">
                            @usuario.Login
                        </td>

                        <td class="text-start ps-3 text-secondary">
                            @usuario.Email
                        </td>

                        <td class="text-center">
                            <span class="badge bg-secondary">
                                Admin
                            </span>
                        </td>

                        <td class="text-center">
                            @usuario.DataCadastro.ToString("dd/MM/yyyy HH:mm")
                        </td>

                        <td class="text-center">
                            <div class="btn-group btn-group-sm shadow-sm">
                                <a class="btn btn-primary"
                                   asp-action="Editar"
                                   asp-route-id="@usuario.Id">
                                    Editar
                                </a>
                                <a class="btn btn-danger"
                                   asp-action="ApagarConfirmacao"
                                   asp-route-id="@usuario.Id">
                                    Apagar
                                </a>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>

        </table>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            $('#tabelaUsuarios').DataTable({
                ordering: true,
                paging: true,
                searching: true,
                responsive: true,
                language: {
                    url: "//cdn.datatables.net/plug-ins/1.13.6/i18n/pt-BR.json"
                }
            });
        });
    </script>
}